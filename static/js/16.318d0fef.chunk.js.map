{"version":3,"sources":["views/app-views/user-list/UserView.js","components/shared-components/AvatarStatus/index.js","api/usersApi.js","views/app-views/user-list/index.js"],"names":["UserView","this","props","data","visible","close","width","placement","onClose","closable","className","name","dashed","UserOutlined","id","RadarChartOutlined","website","MobileOutlined","phone","MailOutlined","email","CompassOutlined","address","city","street","company","catchPhrase","bs","Component","AvatarStatus","subTitle","src","onNameClick","onClick","axios","create","baseURL","UserList","state","users","userProfileVisible","selectedUser","getUsers","a","response","get","setState","deleteUser","userId","filter","item","message","success","content","duration","showUserProfile","userInfo","closeUserProfile","routeChange","history","push","pathname","tableColumns","title","dataIndex","render","_","record","img","sorter","compare","b","toLowerCase","username","length","status","elm","icon","EditOutlined","size","type","EyeOutlined","danger","DeleteOutlined","Loading","cover","bodyStyle","padding","columns","dataSource","rowKey","withRouter"],"mappings":"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","file":"static/js/16.318d0fef.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Avatar, Drawer, Divider } from 'antd';\r\nimport {\r\n  MobileOutlined,\r\n  MailOutlined,\r\n  UserOutlined,\r\n  CompassOutlined,\r\n  CalendarOutlined,\r\n  FacebookOutlined,\r\n  InstagramOutlined,\r\n  TwitterOutlined,\r\n  GlobalOutlined,\r\n  RadarChartOutlined,\r\n} from '@ant-design/icons';\r\n\r\nexport class UserView extends Component {\r\n  render() {\r\n    const { data, visible, close } = this.props;\r\n    return (\r\n      <Drawer\r\n        width={300}\r\n        placement=\"right\"\r\n        onClose={close}\r\n        closable={false}\r\n        visible={visible}\r\n      >\r\n        <div className=\"text-center mt-3\">\r\n          <h3 className=\"mt-2 mb-0\">{data?.name}</h3>\r\n        </div>\r\n        <Divider dashed />\r\n        <div className=\"\">\r\n          <h6 className=\"text-muted text-uppercase mb-3\">\r\n            Данные пользователя\r\n          </h6>\r\n          <p>\r\n            <UserOutlined />\r\n            <span className=\"ml-3 text-dark\">id: {data?.id}</span>\r\n          </p>\r\n          <p>\r\n            <RadarChartOutlined />\r\n            <span className=\"ml-3 text-dark\">\r\n              Сайт: <a>{data?.website}</a>\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n          <h6 className=\"text-muted text-uppercase mb-3\">Контакты</h6>\r\n          <p>\r\n            <MobileOutlined />\r\n            <span className=\"ml-3 text-dark\">{data?.phone}</span>\r\n          </p>\r\n          <p>\r\n            <MailOutlined />\r\n            <span className=\"ml-3 text-dark\">\r\n              {data?.email ? data?.email : '-'}\r\n            </span>\r\n          </p>\r\n          <p>\r\n            <CompassOutlined />\r\n            <span className=\"ml-3 text-dark\">\r\n              {data?.address.city}, {data?.address.street}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n          <h6 className=\"text-muted text-uppercase mb-3\">\r\n            О компании\r\n          </h6>\r\n          <p>\r\n            Название: <b>{data?.company.name}</b>\r\n          </p>\r\n          <p>\r\n            Слоган: <b>{data?.company.catchPhrase}</b>\r\n          </p>\r\n          <p>\r\n            Вид деятельности: <b>{data?.company.bs}</b>\r\n          </p>\r\n        </div>\r\n      </Drawer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserView;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Avatar } from 'antd';\r\n\r\nconst renderAvatar = (props) => {\r\n  return (\r\n    <Avatar\r\n      {...props}\r\n      className={`ant-avatar-${props.type}`}\r\n    >\r\n      {props.text}\r\n    </Avatar>\r\n  );\r\n};\r\n\r\nexport const AvatarStatus = (props) => {\r\n  const { name, subTitle, id, src, onNameClick } = props;\r\n\r\n  return (\r\n    <div className=\"avatar-status d-flex align-items-center\">\r\n      <div className=\"ml-2\">\r\n        <div>\r\n          {onNameClick ? (\r\n            <div\r\n              onClick={() => onNameClick({ name, subTitle, src, id })}\r\n              className=\"avatar-status-name clickable\"\r\n            >\r\n              {name}\r\n            </div>\r\n          ) : (\r\n            <div className=\"avatar-status-name\">{name}</div>\r\n          )}\r\n        </div>\r\n        <div className=\"text-muted avatar-status-subtitle\">\r\n          {subTitle}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nAvatarStatus.propTypes = {\r\n  name: PropTypes.string,\r\n  src: PropTypes.string,\r\n  type: PropTypes.string,\r\n  onNameClick: PropTypes.func,\r\n};\r\n\r\nexport default AvatarStatus;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://jsonplaceholder.typicode.com',\r\n});\r\n\r\nexport const getUserData = async () => {\r\n  try {\r\n    const response = await instance\r\n      .get('/users')\r\n      .then((res) => res.data);\r\n\r\n    return response;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Card, Table, Tag, Tooltip, message, Button } from 'antd';\r\nimport {\r\n  EyeOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  LoadingOutlined,\r\n} from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport UserView from './UserView';\r\nimport AvatarStatus from 'components/shared-components/AvatarStatus';\r\nimport userData from 'assets/data/user-list.data.json';\r\nimport { getUserData } from '../../../api/usersApi';\r\nimport axios from 'axios';\r\nimport { useHistory, withRouter } from 'react-router-dom';\r\nimport Loading from '../../../components/shared-components/Loading';\r\n\r\nexport class UserList extends Component {\r\n  state = {\r\n    users: null,\r\n\r\n    userProfileVisible: false,\r\n    selectedUser: null,\r\n  };\r\n\r\n  getUsers = async () => {\r\n    const response = axios.get(\r\n      'https://jsonplaceholder.typicode.com/users',\r\n    );\r\n    const data = (await response).data;\r\n    this.setState({\r\n      users: data,\r\n    });\r\n  };\r\n  componentDidMount() {\r\n    this.getUsers();\r\n  }\r\n\r\n  deleteUser = (userId) => {\r\n    this.setState({\r\n      users: this.state.users.filter((item) => item.id !== userId),\r\n    });\r\n    message.success({\r\n      content: `Deleted user ${userId}`,\r\n      duration: 2,\r\n    });\r\n  };\r\n\r\n  showUserProfile = (userInfo) => {\r\n    this.setState({\r\n      userProfileVisible: true,\r\n      selectedUser: userInfo,\r\n    });\r\n  };\r\n\r\n  closeUserProfile = () => {\r\n    this.setState({\r\n      userProfileVisible: false,\r\n      selectedUser: null,\r\n    });\r\n  };\r\n\r\n  routeChange = (userInfo) => {\r\n    const { history } = this.props;\r\n\r\n    history.push({\r\n      pathname: '/app/clients/settings',\r\n      state: userInfo,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { users, userProfileVisible, selectedUser } = this.state;\r\n\r\n    const tableColumns = [\r\n      {\r\n        title: 'User',\r\n        dataIndex: 'name',\r\n        render: (_, record) => (\r\n          <div className=\"d-flex\">\r\n            <AvatarStatus\r\n              src={record.img}\r\n              name={record.name}\r\n              subTitle={record.email}\r\n            />\r\n          </div>\r\n        ),\r\n        sorter: {\r\n          compare: (a, b) => {\r\n            a = a.name.toLowerCase();\r\n            b = b.name.toLowerCase();\r\n            return a > b ? -1 : b > a ? 1 : 0;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        title: 'Username',\r\n        dataIndex: 'username',\r\n        sorter: {\r\n          compare: (a, b) => a.username.length - b.username.length,\r\n        },\r\n      },\r\n      {\r\n        title: 'Phone number',\r\n        dataIndex: 'phone',\r\n        render: (phone) => <span>{phone} </span>,\r\n        sorter: {\r\n          compare: (a, b) => a.phone.length - b.phone.length,\r\n        },\r\n      },\r\n      {\r\n        title: 'City',\r\n        dataIndex: ['address', 'city'],\r\n        render: (status) => <span>{status}</span>,\r\n        sorter: {\r\n          compare: (a, b) => {\r\n            a = a.address.city.toLowerCase();\r\n            b = b.address.city.toLowerCase();\r\n            return a > b ? -1 : b > a ? 1 : 0;\r\n          },\r\n        },\r\n      },\r\n      {\r\n        title: '',\r\n        dataIndex: 'actions',\r\n        render: (_, elm) => (\r\n          <div className=\"text-right\">\r\n            <Tooltip title=\"Edit\">\r\n              <Button\r\n                className=\"mr-2\"\r\n                icon={<EditOutlined />}\r\n                onClick={() => {\r\n                  this.routeChange(elm);\r\n                }}\r\n                size=\"small\"\r\n              />\r\n            </Tooltip>\r\n            <Tooltip title=\"View\">\r\n              <Button\r\n                type=\"primary\"\r\n                className=\"mr-2\"\r\n                icon={<EyeOutlined />}\r\n                onClick={() => {\r\n                  this.showUserProfile(elm);\r\n                }}\r\n                size=\"small\"\r\n              />\r\n            </Tooltip>\r\n            <Tooltip title=\"Delete\">\r\n              <Button\r\n                danger\r\n                icon={<DeleteOutlined />}\r\n                onClick={() => {\r\n                  this.deleteUser(elm.id);\r\n                }}\r\n                size=\"small\"\r\n              />\r\n            </Tooltip>\r\n          </div>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <>\r\n        {users === null ? (\r\n          <Loading cover=\"content\" />\r\n        ) : (\r\n          <Card bodyStyle={{ padding: '0px' }}>\r\n            <Table\r\n              columns={tableColumns}\r\n              dataSource={users}\r\n              rowKey=\"id\"\r\n            />\r\n            <UserView\r\n              data={selectedUser}\r\n              visible={userProfileVisible}\r\n              close={() => {\r\n                this.closeUserProfile();\r\n              }}\r\n            />\r\n          </Card>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UserList);\r\n"],"sourceRoot":""}